{% extends 'base.html' %}

{% block title %} Contact Us - FlaskShopper {% endblock %}

{% block body %}

<!-- Hero Section -->
<div class="contact-hero-section">
  <div class="container">
    <div class="row align-items-center min-vh-50">
      <div class="col-lg-6">
        <div class="hero-content animate__animated animate__fadeInLeft">
          <h1 class="display-4 fw-bold text-white mb-4">Get In Touch</h1>
          <p class="lead text-white-50 mb-4">We'd love to hear from you! Whether you have questions, feedback, or need
            support, our team is here to help.</p>
          <div class="hero-stats d-flex flex-wrap gap-4">
            <div class="stat-item text-white">
              <i class="fas fa-clock fa-2x mb-2"></i>
              <div>
                <strong>24/7</strong><br>
                <small>Customer Support</small>
              </div>
            </div>
            <div class="stat-item text-white">
              <i class="fas fa-headset fa-2x mb-2"></i>
              <div>
                <strong>Live Chat</strong><br>
                <small>Instant Help</small>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="col-lg-6">
        <div class="animate__animated animate__fadeInRight">
          <img src="/static/images/help.png" alt="Contact FlaskShopper" class="img-fluid rounded-3 shadow-lg">
        </div>
      </div>
    </div>
  </div>
</div>

<!-- Contact Information Section -->
<section class="py-5 bg-light">
  <div class="container">
    <div class="row">
      <div class="col-lg-8 mx-auto text-center mb-5">
        <h2 class="section-title">Contact Information</h2>
        <p class="lead text-muted">Multiple ways to reach us - choose what works best for you</p>
      </div>
    </div>
    <div class="row g-4">
      <div class="col-lg-4 col-md-6">
        <div class="contact-info-card text-center h-100">
          <div class="contact-icon">
            <i class="fas fa-map-marker-alt fa-3x text-primary mb-4"></i>
          </div>
          <h4 class="fw-bold mb-3">Visit Our Office</h4>
          <p class="text-muted mb-3">FlaskShopper Headquarters<br>
            Kimathi Street, Nairobi<br>
            Kenya, 00100</p>
          <a href="https://maps.google.com" target="_blank" class="btn btn-outline-primary btn-sm">
            <i class="fas fa-directions me-2"></i>Get Directions
          </a>
        </div>
      </div>
      <div class="col-lg-4 col-md-6">
        <div class="contact-info-card text-center h-100">
          <div class="contact-icon">
            <i class="fas fa-phone fa-3x text-success mb-4"></i>
          </div>
          <h4 class="fw-bold mb-3">Call Us</h4>
          <p class="text-muted mb-3">Customer Service<br>
            <strong>+254 700 123 456</strong><br>
            Sales Inquiries<br>
            <strong>+254 700 654 321</strong>
          </p>
          <a href="tel:+254700123456" class="btn btn-outline-success btn-sm">
            <i class="fas fa-phone me-2"></i>Call Now
          </a>
        </div>
      </div>
      <div class="col-lg-4 col-md-6">
        <div class="contact-info-card text-center h-100">
          <div class="contact-icon">
            <i class="fas fa-envelope fa-3x text-info mb-4"></i>
          </div>
          <h4 class="fw-bold mb-3">Email Us</h4>
          <p class="text-muted mb-3">General Inquiries<br>
            <strong>info@flaskshopper.com</strong><br>
            Support<br>
            <strong>support@flaskshopper.com</strong>
          </p>
          <a href="mailto:info@flaskshopper.com" class="btn btn-outline-info btn-sm">
            <i class="fas fa-envelope me-2"></i>Send Email
          </a>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- Contact Form Section -->
<section class="py-5">
  <div class="container">
    <div class="row">
      <div class="col-lg-8 mx-auto">
        <div class="contact-form-wrapper">
          <div class="text-center mb-5">
            <h2 class="section-title">Send Us a Message</h2>
            <p class="lead text-muted">Fill out the form below and we'll get back to you within 24 hours</p>
          </div>

          <form id="contactForm" class="needs-validation" novalidate>
            <div class="row g-4">
              <div class="col-md-6">
                <label for="firstName" class="form-label">First Name *</label>
                <input type="text" class="form-control" id="firstName" required>
                <div class="invalid-feedback">
                  Please provide your first name.
                </div>
              </div>
              <div class="col-md-6">
                <label for="lastName" class="form-label">Last Name *</label>
                <input type="text" class="form-control" id="lastName" required>
                <div class="invalid-feedback">
                  Please provide your last name.
                </div>
              </div>
              <div class="col-md-6">
                <label for="email" class="form-label">Email Address *</label>
                <input type="email" class="form-control" id="email" required>
                <div class="invalid-feedback">
                  Please provide a valid email address.
                </div>
              </div>
              <div class="col-md-6">
                <label for="phone" class="form-label">Phone Number</label>
                <input type="tel" class="form-control" id="phone">
              </div>
              <div class="col-12">
                <label for="subject" class="form-label">Subject *</label>
                <select class="form-select" id="subject" required>
                  <option value="">Choose a subject...</option>
                  <option value="general">General Inquiry</option>
                  <option value="support">Technical Support</option>
                  <option value="order">Order Related</option>
                  <option value="refund">Refund Request</option>
                  <option value="partnership">Business Partnership</option>
                  <option value="feedback">Feedback</option>
                  <option value="other">Other</option>
                </select>
                <div class="invalid-feedback">
                  Please select a subject.
                </div>
              </div>
              <div class="col-12">
                <label for="message" class="form-label">Message *</label>
                <textarea class="form-control" id="message" rows="6" required
                  placeholder="Tell us how we can help you..."></textarea>
                <div class="invalid-feedback">
                  Please provide your message.
                </div>
              </div>
              <div class="col-12">
                <div class="form-check">
                  <input class="form-check-input" type="checkbox" id="privacy" required>
                  <label class="form-check-label" for="privacy">
                    I agree to the <a href="#" class="text-primary">Privacy Policy</a> and <a href="#"
                      class="text-primary">Terms of Service</a> *
                  </label>
                  <div class="invalid-feedback">
                    You must agree to our privacy policy.
                  </div>
                </div>
              </div>
              <div class="col-12">
                <button type="submit" class="btn btn-primary btn-lg w-100">
                  <i class="fas fa-paper-plane me-2"></i>
                  Send Message
                </button>
              </div>
            </div>
          </form>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- FAQ Section -->
<section class="py-5 bg-light">
  <div class="container">
    <div class="row">
      <div class="col-lg-8 mx-auto text-center mb-5">
        <h2 class="section-title">Frequently Asked Questions</h2>
        <p class="lead text-muted">Quick answers to common questions</p>
      </div>
    </div>
    <div class="row">
      <div class="col-lg-8 mx-auto">
        <div class="accordion" id="faqAccordion">
          <div class="accordion-item">
            <h2 class="accordion-header" id="faq1">
              <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse1">
                How long does delivery take?
              </button>
            </h2>
            <div id="collapse1" class="accordion-collapse collapse show" data-bs-parent="#faqAccordion">
              <div class="accordion-body">
                We offer same-day delivery within Nairobi and 2-3 days for other locations in Kenya. Express delivery
                options are also available for urgent orders.
              </div>
            </div>
          </div>

          <div class="accordion-item">
            <h2 class="accordion-header" id="faq2">
              <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                data-bs-target="#collapse2">
                What payment methods do you accept?
              </button>
            </h2>
            <div id="collapse2" class="accordion-collapse collapse" data-bs-parent="#faqAccordion">
              <div class="accordion-body">
                We accept M-Pesa, Airtel Money, Visa, Mastercard, and bank transfers. All payments are processed
                securely through encrypted channels.
              </div>
            </div>
          </div>

          <div class="accordion-item">
            <h2 class="accordion-header" id="faq3">
              <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                data-bs-target="#collapse3">
                Do you offer returns and refunds?
              </button>
            </h2>
            <div id="collapse3" class="accordion-collapse collapse" data-bs-parent="#faqAccordion">
              <div class="accordion-body">
                Yes! We offer a 30-day return policy for most items. Products must be in original condition with
                packaging. Refunds are processed within 5-7 business days.
              </div>
            </div>
          </div>

          <div class="accordion-item">
            <h2 class="accordion-header" id="faq4">
              <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                data-bs-target="#collapse4">
                How can I track my order?
              </button>
            </h2>
            <div id="collapse4" class="accordion-collapse collapse" data-bs-parent="#faqAccordion">
              <div class="accordion-body">
                Once your order ships, you'll receive a tracking number via SMS and email. You can also check your order
                status by logging into your account.
              </div>
            </div>
          </div>

          <div class="accordion-item">
            <h2 class="accordion-header" id="faq5">
              <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                data-bs-target="#collapse5">
                Do you offer customer support?
              </button>
            </h2>
            <div id="collapse5" class="accordion-collapse collapse" data-bs-parent="#faqAccordion">
              <div class="accordion-body">
                Absolutely! Our customer support team is available 24/7 via live chat, phone, and email. We're always
                here to help with any questions or concerns.
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- Business Hours Section -->
<section class="py-5">
  <div class="container">
    <div class="row align-items-center">
      <div class="col-lg-6">
        <h2 class="section-title text-start">Business Hours</h2>
        <p class="lead text-muted mb-4">Our customer service team is here to help</p>

        <div class="business-hours">
          <div class="hour-item d-flex justify-content-between align-items-center py-2 border-bottom">
            <span class="fw-semibold">Monday - Friday</span>
            <span class="text-muted">8:00 AM - 8:00 PM</span>
          </div>
          <div class="hour-item d-flex justify-content-between align-items-center py-2 border-bottom">
            <span class="fw-semibold">Saturday</span>
            <span class="text-muted">9:00 AM - 6:00 PM</span>
          </div>
          <div class="hour-item d-flex justify-content-between align-items-center py-2 border-bottom">
            <span class="fw-semibold">Sunday</span>
            <span class="text-muted">10:00 AM - 4:00 PM</span>
          </div>
          <div class="hour-item d-flex justify-content-between align-items-center py-2">
            <span class="fw-semibold">Online Support</span>
            <span class="text-success fw-semibold">24/7 Available</span>
          </div>
        </div>

        <div class="mt-4">
          <p class="text-muted small">
            <i class="fas fa-info-circle me-2"></i>
            Response times may vary during peak shopping seasons and holidays.
          </p>
        </div>
      </div>
      <div class="col-lg-6">
        <div class="contact-image text-center">
          <img src="/static/images/center.gif" alt="Customer Support" class="img-fluid rounded-3"
            style="max-height: 400px;">
        </div>
      </div>
    </div>
  </div>
</section>

<!-- Social Media & Newsletter -->
<section class="py-5 bg-gradient-primary text-white">
  <div class="container">
    <div class="row align-items-center">
      <div class="col-lg-8">
        <h2 class="display-5 fw-bold mb-3">Stay Connected</h2>
        <p class="lead mb-4">Follow us on social media for the latest updates, deals, and product launches.</p>

        <div class="social-links d-flex flex-wrap gap-3 mb-4">
          <a href="#" class="btn btn-outline-light btn-lg">
            <i class="fab fa-facebook-f me-2"></i>Facebook
          </a>
          <a href="#" class="btn btn-outline-light btn-lg">
            <i class="fab fa-twitter me-2"></i>Twitter
          </a>
          <a href="#" class="btn btn-outline-light btn-lg">
            <i class="fab fa-instagram me-2"></i>Instagram
          </a>
          <a href="#" class="btn btn-outline-light btn-lg">
            <i class="fab fa-linkedin me-2"></i>LinkedIn
          </a>
        </div>
      </div>
      <div class="col-lg-4">
        <div class="newsletter-signup">
          <h4 class="fw-bold mb-3">Newsletter Signup</h4>
          <div class="input-group mb-3">
            <input type="email" class="form-control" placeholder="Enter your email">
            <button class="btn btn-light" type="button">
              <i class="fas fa-paper-plane"></i>
            </button>
          </div>
          <small class="text-white-50">Get exclusive deals and updates delivered to your inbox.</small>
        </div>
      </div>
    </div>
  </div>
</section>

<style>
  .contact-hero-section {
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    min-height: 60vh;
    display: flex;
    align-items: center;
  }

  .section-title {
    font-size: 2.5rem;
    font-weight: 700;
    color: #2c3e50;
    margin-bottom: 1rem;
    position: relative;
  }

  .section-title::after {
    content: '';
    position: absolute;
    bottom: -10px;
    left: 50%;
    transform: translateX(-50%);
    width: 60px;
    height: 4px;
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    border-radius: 2px;
  }

  .section-title.text-start::after {
    left: 0;
    transform: none;
  }

  .contact-info-card {
    padding: 2.5rem 2rem;
    border-radius: 15px;
    background: white;
    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
    transition: all 0.3s ease;
    border: 1px solid #f8f9fa;
  }

  .contact-info-card:hover {
    transform: translateY(-10px);
    box-shadow: 0 20px 40px rgba(0, 0, 0, 0.15);
  }

  .contact-form-wrapper {
    background: white;
    padding: 3rem;
    border-radius: 20px;
    box-shadow: 0 15px 35px rgba(0, 0, 0, 0.1);
    border: 1px solid #f8f9fa;
  }

  .form-control,
  .form-select {
    border-radius: 10px;
    border: 2px solid #e9ecef;
    padding: 0.75rem 1rem;
    transition: all 0.3s ease;
  }

  .form-control:focus,
  .form-select:focus {
    border-color: #667eea;
    box-shadow: 0 0 0 0.2rem rgba(102, 126, 234, 0.25);
  }

  .btn-primary {
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    border: none;
    border-radius: 10px;
    padding: 0.75rem 2rem;
    font-weight: 600;
    transition: all 0.3s ease;
  }

  .btn-primary:hover {
    transform: translateY(-2px);
    box-shadow: 0 10px 25px rgba(102, 126, 234, 0.3);
  }

  .accordion-item {
    border: none;
    margin-bottom: 1rem;
    border-radius: 10px;
    overflow: hidden;
    box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
  }

  .accordion-button {
    background: white;
    border: none;
    font-weight: 600;
    color: #2c3e50;
    padding: 1.25rem 1.5rem;
  }

  .accordion-button:not(.collapsed) {
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    color: white;
    box-shadow: none;
  }

  .accordion-button:focus {
    box-shadow: none;
    border-color: transparent;
  }

  .accordion-body {
    padding: 1.5rem;
    background: #f8f9fa;
  }

  .hero-stats .stat-item {
    display: flex;
    align-items: center;
    gap: 1rem;
  }

  .business-hours .hour-item {
    padding: 1rem 0;
    border-bottom: 1px solid #e9ecef !important;
  }

  .business-hours .hour-item:last-child {
    border-bottom: none !important;
  }

  .bg-gradient-primary {
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  }

  .social-links .btn {
    border-radius: 50px;
    padding: 0.75rem 1.5rem;
    transition: all 0.3s ease;
  }

  .social-links .btn:hover {
    transform: translateY(-2px);
    box-shadow: 0 10px 25px rgba(255, 255, 255, 0.2);
  }

  .newsletter-signup .input-group {
    border-radius: 50px;
    overflow: hidden;
  }

  .newsletter-signup .form-control {
    border: none;
    background: rgba(255, 255, 255, 0.9);
  }

  .newsletter-signup .btn-light {
    border: none;
    background: white;
    color: #667eea;
  }

  @media (max-width: 768px) {
    .contact-hero-section {
      min-height: 50vh;
      text-align: center;
    }

    .section-title {
      font-size: 2rem;
    }

    .contact-form-wrapper {
      padding: 2rem 1.5rem;
    }

    .contact-info-card {
      margin-bottom: 2rem;
    }

    .hero-stats {
      justify-content: center;
    }

    .social-links {
      justify-content: center;
    }
  }

  /* Form validation styles */
  .was-validated .form-control:valid {
    border-color: #28a745;
  }

  .was-validated .form-control:invalid {
    border-color: #dc3545;
  }

  /* Success message */
  .alert-success {
    border-radius: 10px;
    border: none;
    background: linear-gradient(135deg, #28a745 0%, #20c997 100%);
    color: white;
  }
</style>

<script>
  document.addEventListener('DOMContentLoaded', function () {
    // Form validation
    const form = document.getElementById('contactForm');

    form.addEventListener('submit', function (event) {
      event.preventDefault();

      if (form.checkValidity()) {
        // Simulate form submission
        const submitBtn = form.querySelector('button[type="submit"]');
        const originalText = submitBtn.innerHTML;

        submitBtn.innerHTML = '<i class="fas fa-spinner fa-spin me-2"></i>Sending...';
        submitBtn.disabled = true;

        setTimeout(() => {
          // Show success message
          const successAlert = document.createElement('div');
          successAlert.className = 'alert alert-success mt-3';
          successAlert.innerHTML = `
                    <i class="fas fa-check-circle me-2"></i>
                    <strong>Message sent successfully!</strong> We'll get back to you within 24 hours.
                `;

          form.parentNode.insertBefore(successAlert, form.nextSibling);

          // Reset form
          form.reset();
          form.classList.remove('was-validated');

          // Reset button
          submitBtn.innerHTML = originalText;
          submitBtn.disabled = false;

          // Remove success message after 5 seconds
          setTimeout(() => {
            successAlert.remove();
          }, 5000);

        }, 2000);
      }

      form.classList.add('was-validated');
    });

    // Real-time validation feedback
    const inputs = form.querySelectorAll('input, select, textarea');
    inputs.forEach(input => {
      input.addEventListener('blur', function () {
        if (this.checkValidity()) {
          this.classList.add('is-valid');
          this.classList.remove('is-invalid');
        } else {
          this.classList.add('is-invalid');
          this.classList.remove('is-valid');
        }
      });

      input.addEventListener('input', function () {
        if (this.classList.contains('is-invalid') && this.checkValidity()) {
          this.classList.add('is-valid');
          this.classList.remove('is-invalid');
        }
      });
    });

    // Phone number formatting
    const phoneInput = document.getElementById('phone');
    phoneInput.addEventListener('input', function (e) {
      let value = e.target.value.replace(/\D/g, '');
      if (value.startsWith('254')) {
        value = '+' + value;
      } else if (value.startsWith('0')) {
        value = '+254' + value.substring(1);
      }
      e.target.value = value;
    });

    // Newsletter signup
    const newsletterForm = document.querySelector('.newsletter-signup');
    const newsletterBtn = newsletterForm.querySelector('.btn');
    const newsletterInput = newsletterForm.querySelector('input');

    newsletterBtn.addEventListener('click', function () {
      const email = newsletterInput.value.trim();
      if (email && isValidEmail(email)) {
        const originalText = this.innerHTML;
        this.innerHTML = '<i class="fas fa-spinner fa-spin"></i>';
        this.disabled = true;

        setTimeout(() => {
          this.innerHTML = '<i class="fas fa-check"></i>';
          newsletterInput.value = '';

          setTimeout(() => {
            this.innerHTML = originalText;
            this.disabled = false;
          }, 2000);
        }, 1500);
      } else {
        newsletterInput.focus();
        newsletterInput.classList.add('is-invalid');
      }
    });

    function isValidEmail(email) {
      const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
      return emailRegex.test(email);
    }

    // Smooth scrolling for anchor links
    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
      anchor.addEventListener('click', function (e) {
        e.preventDefault();
        const target = document.querySelector(this.getAttribute('href'));
        if (target) {
          target.scrollIntoView({
            behavior: 'smooth',
            block: 'start'
          });
        }
      });
    });

    // Add animation to contact info cards on scroll
    const observerOptions = {
      threshold: 0.1,
      rootMargin: '0px 0px -50px 0px'
    };

    const observer = new IntersectionObserver((entries) => {
      entries.forEach(entry => {
        if (entry.isIntersecting) {
          entry.target.style.animation = 'fadeInUp 0.6s ease forwards';
          observer.unobserve(entry.target);
        }
      });
    }, observerOptions);

    document.querySelectorAll('.contact-info-card').forEach(card => {
      observer.observe(card);
    });
  });

  // Add CSS for fade in animation
  const style = document.createElement('style');
  style.textContent = `
    @keyframes fadeInUp {
        from {
            opacity: 0;
            transform: translateY(30px);
        }
        to {
            opacity: 1;
            transform: translateY(0);
        }
    }
`;
  document.head.appendChild(style);
</script>

{% endblock %}